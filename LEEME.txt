==========================
BITHORA OS - README.txt
==========================

VersiÃ³n: 0.1  
Autor: Roussel  
Fecha de Ãºltima ediciÃ³n: 2025  
DescripciÃ³n: Sistema operativo en desarrollo, escrito desde cero en C y ASM, con diseÃ±o modular, estilo consola personalizada, colores Ãºnicos y visiÃ³n de expansiÃ³n hacia un sistema operativo completo con su propio lenguaje de programaciÃ³n interpretado (.bit) y compilado (.tha).

----------------------------------------------------
ESTRUCTURA GENERAL Y FUNCIONALIDAD ACTUAL
----------------------------------------------------

BithoraOS es un sistema operativo de bajo nivel que actualmente implementa las siguientes caracterÃ­sticas funcionales:

âœ”ï¸ Bootloader con encabezado Multiboot  
âœ”ï¸ Kernel propio (escrito en C)  
âœ”ï¸ Manejo de video y salida de texto en modo texto (VGA)  
âœ”ï¸ InteracciÃ³n con teclado (con historial de comandos y ediciÃ³n de lÃ­nea)  
âœ”ï¸ Soporte de entrada interactiva en consola  
âœ”ï¸ Sistema de comandos personalizados (Ãºnicos, no basados en Unix/Windows)  
âœ”ï¸ Primer comando funcional: `vacuum`, que limpia la pantalla  
âœ”ï¸ Interfaz en colores personalizados: fondo negro, letras verdes (estilo terminal hacker)

-----------------------------
ESTRUCTURA DE ARCHIVOS
-----------------------------

ğŸ“ /build/  
â†’ Carpeta de compilaciÃ³n (intermedia)

ğŸ“ /commands/  
â†’ MÃ³dulos de comandos individuales.  
â†’ Cada comando estarÃ¡ separado en su propio archivo.  
â†’ Actualmente contiene el **dispatcher.c**, que ejecuta el comando `vacuum`.

ğŸ“ /include/  
â†’ Headers personalizados.  
â†’ Centraliza declaraciones de comandos (`commands.h`).

ğŸ“ /  
â†’ Archivos principales del sistema:

- `Makefile`: script de construcciÃ³n con soporte para:
   â€¢ CompilaciÃ³n modular  
   â€¢ Enlace  
   â€¢ CreaciÃ³n de ISO booteable  
   â€¢ EjecuciÃ³n con QEMU

- `multiboot_header.asm`: header en ensamblador NASM compatible con GRUB (Multiboot).  
   â€¢ Es el primer cÃ³digo ejecutado.  
   â€¢ Prepara el entorno para saltar al kernel en C.

- `kernel.c`: nÃºcleo principal del sistema.  
   â€¢ Inicializa video, teclado, y muestra el prompt (`Bith> `).  
   â€¢ Punto de entrada desde GRUB.

- `ports.c`: funciones para leer/escribir directamente en puertos I/O del hardware (outb, inb).  
   â€¢ Se usa para manejar el teclado.

- `video.c`: control completo de la salida de texto.  
   â€¢ Imprime caracteres y cadenas.  
   â€¢ Maneja el buffer de texto VGA.  
   â€¢ Control de cursor, scroll y colores.  
   â€¢ `vacuum()` limpia la pantalla con fondo negro y texto verde.

- `keyboard.c`: captura y traduce scancodes del teclado.  
   â€¢ Maneja shift, backspace, flechas, y entrada de caracteres.  
   â€¢ Soporte para historial (flechas arriba/abajo).  
   â€¢ Soporte para ediciÃ³n en lÃ­nea (izquierda/derecha).  
   â€¢ Ejecuta los comandos al presionar Enter.

- `linker.ld`: script de enlace para generar el binario final del kernel.

- `grub/grub.cfg`: configuraciÃ³n de GRUB para arrancar el kernel.

----------------------------
FUNCIONES ACTUALES DETALLADAS
----------------------------

ğŸ”§ video.c  
â€¢ `clear_screen()` â€” borra la pantalla completa  
â€¢ `print_char(char)` â€” imprime un carÃ¡cter  
â€¢ `print_string(const char*)` â€” imprime una cadena  
â€¢ `insert_char(char)` â€” inserta un carÃ¡cter editable  
â€¢ `refresh_line()` â€” redibuja la lÃ­nea actual con cursor  
â€¢ `scroll_screen()` â€” mueve las lÃ­neas hacia arriba  
â€¢ `backspace_char()` â€” borra el carÃ¡cter anterior al cursor  
â€¢ Control completo del buffer VGA: texto verde sobre fondo negro

âŒ¨ï¸ keyboard.c  
â€¢ TraducciÃ³n de scancodes en ASCII (con y sin shift)  
â€¢ EdiciÃ³n de lÃ­nea en tiempo real  
â€¢ Soporte para:
   - backspace  
   - flechas (arriba/abajo para historial, izquierda/derecha para moverse)  
   - shift  
â€¢ Al presionar Enter:
   - Agrega lÃ­nea al historial  
   - Ejecuta el comando vÃ­a `execute_command()`  
   - Limpia lÃ­nea para prÃ³xima entrada

ğŸ§  dispatcher.c  
â€¢ Recibe una cadena (`input`)  
â€¢ Compara con comandos vÃ¡lidos  
â€¢ Ejecuta la funciÃ³n correspondiente  
â†’ Actualmente solo:
   â€¢ `"vacuum"` â†’ llama a `vacuum()` (borrar pantalla)

ğŸ“¦ ports.c  
â€¢ `outb()` y `inb()`  
â€¢ Permite comunicaciÃ³n directa con el hardware (PS/2, VGA, etc.)

ğŸ§  kernel.c  
â€¢ Muestra logo/banner inicial  
â€¢ Muestra `Bith>` como prompt  
â€¢ Llama a `wait_for_keypress()` para iniciar la consola

---------------------------------------
CONVENCIÃ“N DE COMANDOS EN BITHORA
---------------------------------------

Los comandos en Bithora estÃ¡n diseÃ±ados para ser Ãºnicos y distintos a cualquier sistema tradicional.  
âŒ No se usan `ls`, `clear`, `cd`, etc.  
âœ… En su lugar se usan comandos inventados, por ejemplo:

â€¢ `vacuum` â†’ limpia pantalla  
â€¢ Futuro:  
   - `nerva` â†’ mostrar archivos  
   - `worm` â†’ eliminar archivo  
   - `vein` â†’ navegar  
   - `pulse` â†’ mostrar estado del sistema  

Los comandos se organizan modularmente en la carpeta `commands/`.

----------------------------
PLANES A FUTURO (ROADMAP)
----------------------------

ğŸ”¹ Comandos esenciales del sistema (fase consola interactiva):  
   - `nerva` (listar archivos)  
   - `worm` (eliminar archivos)  
   - `scribe` (crear/editar archivos)  
   - `vein` (navegar entre carpetas)  

ğŸ”¹ Subsistema de archivos personalizado  
   - Formato .bfs (Bithora File System)  
   - Soporte para archivos y carpetas en RAM (posteriormente en disco)

ğŸ”¹ Lenguaje interpretado: **.bit**  
   - Sintaxis simple  
   - Potente y Ã¡gil  
   - Similar a Python, pero con visiÃ³n propia  
   - Interpretado directamente por Bithora

ğŸ”¹ Lenguaje compilado: **.tha**  
   - Sintaxis mÃ¡s estructurada  
   - Compilador propio escrito en C  
   - GeneraciÃ³n de binarios para Bithora

ğŸ”¹ Drivers simples  
   - Soporte para disco (ATA)  
   - Modo grÃ¡fico bÃ¡sico (futuro)

ğŸ”¹ Shell visual opcional  
   - Basada en consola grÃ¡fica simple  
   - NavegaciÃ³n entre apps

-----------------------------
NOTAS FINALES
-----------------------------

ğŸ›  Requisitos de compilaciÃ³n:
- `i686-elf-gcc`, `nasm`, `grub-mkrescue`, `qemu`  
- GNU/Linux recomendado  
- Configurar correctamente `PATH` si el toolchain estÃ¡ en una carpeta custom

ğŸ“¦ CompilaciÃ³n:
```bash
make run
